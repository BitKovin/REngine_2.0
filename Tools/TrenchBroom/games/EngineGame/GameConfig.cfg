{
    "version": 8,
    "name": "GenericEngine",
    "icon": "Icon.png",

    "fileformats": [
        { "format": "Standard", "initialmap": "initial_standard.map" },
        { "format": "Valve", "initialmap": "initial_valve.map" },
        { "format": "Quake2", "initialmap": "initial_quake2.map" }
    ],

    "filesystem": {
        "searchpath": ".",
        "packageformat": { "extension": ".pak", "format": "idpak" }
    },

    "textures": {
        "root": "textures",
        "format": { "extensions": [".png"], "format": "image" }
    },

    "entities": {
        "definitions": [ "entities.ent" ],
        "defaultcolor": "0.6 0.6 0.6 1.0"
    },

    "tags": {
        "brush": [
            {
                "name": "Trigger",
                "attribs": [ "transparent" ],
                "match": "classname",
                "pattern": "trigger",
                "texture": "brushes/trigger_t"
            }
        ],
        "brushface": [
            {
                "name": "transparent",
                "attribs": [ "transparent" ],
                "match": "texture",
                "pattern": "*_t"
            }
        ]
    },

    "faceattribs": {
        "defaults": {
            "scale": [1, 1]
        },
        "surfaceflags": [],
        "contentflags": [
            { "unused": true },
            { "unused": true },
            { "unused": true },
            { "unused": true },
            { "unused": true },
            { "unused": true },
            { "unused": true },
            { "unused": true },
            { "unused": true },
            { "unused": true },
            { "unused": true },
            { "unused": true },
            { "unused": true },
            { "unused": true },
            { "unused": true },
            { "unused": true },
            { "unused": true },
            { "unused": true },
            { "unused": true },
            { "unused": true },
            { "unused": true },
            { "unused": true },
            { "unused": true },
            { "unused": true },
            { "unused": true },
            { "unused": true },
            { "unused": true },
            {
                "name": "detail",
                "description": "Detail brush"
            }
        ]
    },

    "softMapBounds": "-65536 -65536 -65536 65536 65536 65536",

    "compilationTools": [
        { 
            "name": "q3map2", 
            "description": "Path to q3map2 executable (bsp/vis/light compiler)",
            "path": "${WORK_DIR_PATH}../netradiant_source/install/q3map2.exe"
        },
        { 
            "name": "bspc", 
            "description": "Path to bspc/mbspc executable (AAS bot file generator)" 
        }
    ],

    "compilationProfiles": [
        {
            "name": "q3map2 full compile",
            "workdir": "${MAP_DIR_PATH}",
            "tasks": [
                {
                    "type": "tool",
                    "tool": "q3map2",
                    "parameters": "-v -fs_pakpath \"${GAME_DIR_PATH}\" -game quake3 -fs_basepath \"${GAME_DIR_PATH}\" -fs_game base -meta \"${MAP_DIR_PATH}/${MAP_BASE_NAME}\"",
                    "treatNonZeroResultCodeAsError": true
                },
                {
                    "type": "tool",
                    "tool": "q3map2",
                    "parameters": "-v -fs_pakpath \"${GAME_DIR_PATH}\" -game quake3 -fs_basepath \"${GAME_DIR_PATH}\" -fs_game base -vis \"${MAP_DIR_PATH}/${MAP_BASE_NAME}\"",
                    "treatNonZeroResultCodeAsError": true
                },
                {
                    "type": "tool",
                    "tool": "q3map2",
                    "parameters": "-v -fs_pakpath \"${GAME_DIR_PATH}\" -game quake3 -fs_basepath \"${GAME_DIR_PATH}\" -fs_game base -light -fast -patchshadows -samples 2 -filter -bounce 4 -shade -bouncegrid -gamma 2 -compensate 2 -threads 24 -dirty \"${MAP_DIR_PATH}/${MAP_BASE_NAME}\"",
                    "treatNonZeroResultCodeAsError": true
                }
            ]
        }
    ]
}
